import{a as T}from"./chunk-2U6YRYJ6.js";import{c as P}from"./chunk-EIBGGJLF.js";import{$ as v,Aa as S,B as u,Ca as s,Ha as g,Pa as w,Q as a,Qa as b,Ra as y,Sa as C,V as h,W as p,Wa as r,ab as I,bb as x,cb as l,f as d,gb as _,hb as M,tb as j,x as m}from"./chunk-NFQV5N44.js";var D=(()=>{class e{constructor(){this.activeSection="welcome"}setSectionVisible(t="welcome"){this.activeSection=t}getActiveSection(){return this.activeSection}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var H=(()=>{class e{constructor(t){this.ngZone=t}onScroll(){return new d(t=>{this.ngZone.runOutsideAngular(()=>{let i=m(window,"scroll").pipe(u(200)).subscribe(t);return()=>i.unsubscribe()})})}static{this.\u0275fac=function(i){return new(i||e)(h(g))}}static{this.\u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var F=()=>[import("./chunk-KTMHA3NN.js").then(e=>e.default),import("./chunk-ROE6HNHH.js").then(e=>e.default),import("./chunk-U6WVIUYC.js").then(e=>e.default),import("./chunk-3RAWX4R5.js").then(e=>e.default),import("./chunk-IWMVFREQ.js").then(e=>e.default),import("./chunk-YCRWW26V.js").then(e=>e.default)];function k(e,f){if(e&1&&l(0,"app-wellcome",4)(1,"app-functions",5,0)(3,"app-history",6,1)(5,"app-projects",7)(6,"app-contact",8)(7,"app-footer",9),e&2){let t=M();r("active",t.activeSection==="welcome"),s(),r("active",t.activeSection==="functions"),s(2),r("active",t.activeSection==="history"),s(2),r("active",t.activeSection==="project"),s(),r("active",t.activeSection==="contact"),s(),r("active",t.activeSection==="footer")}}function A(e,f){e&1&&l(0,"app-loader")}function E(e,f){e&1&&l(0,"app-loader")}var R=(()=>{class e{constructor(){this.sectionVisbleService=p(D),this.scrollService=p(H),this.sections=[]}ngOnInit(){this.scrollSubscription=this.scrollService.onScroll().subscribe(()=>{console.log("P\xE1gina rolada!")}),this.sectionVisbleService.setSectionVisible()}onWindowScroll(){console.log("scroll");let t=window.scrollY,i=window.innerHeight,n=-1;for(let o=0;o<this.sections.length;o++){let c=this.sections[o].offsetTop;if(t>=c-i*.5)n=o;else break}if(n!==-1){let o=n+1,c=n-1;o<this.sections.length&&t>this.sections[o].offsetTop-i*.5?this.scrollIntoView(o):c>=0&&t<this.sections[c].offsetTop-i*.5&&this.scrollIntoView(c)}}scrollIntoView(t){this.sections[t].scrollIntoView({behavior:"smooth"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=v({type:e,selectors:[["app-main"]],hostBindings:function(i,n){i&1&&_("scroll",function(c){return n.onWindowScroll(c)},!1,S)},standalone:!0,features:[j],decls:6,vars:1,consts:[["functions",""],["history",""],[1e3,100],["id","fullpage",1,"grid"],["id","welcome",1,"snap-center","section"],["id","functions",1,"snap-center","section"],["id","history",1,"snap-center","section"],["id","project",1,"snap-center","section"],["id","contact",1,"snap-center","section"],["id","footer",1,"snap-center","section"]],template:function(i,n){i&1&&(I(0,"div",3),w(1,k,8,12)(2,A,1,0)(3,E,1,0),y(4,1,F,2,3,null,2,null,b),x()),i&2&&(s(4),C(n.sectionVisbleService.getActiveSection()))},dependencies:[T,P],encapsulation:2,changeDetection:0})}}return e})();export{D as a,R as b};
